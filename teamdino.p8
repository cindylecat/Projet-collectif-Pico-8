pico-8 cartridge // http://www.pico-8.com
version 38
__lua__
function _init()
 create_player()
end

function _update()
 player_mouvement()
end
 
function _draw()
 cls()
 draw_map()
 draw_player()
end
 

-->8
--map

function draw_map()
map (0,0,0,0,128,64)

end

function check_flag(flag,x,y)

 local sprite=mget(x,y)
 return fget(sprite,flag)
end

-->8
--player

function create_player()
 p={x=6,y=8,sprite=1}
end
 
function player_mouvement()
 newx=p.x
 newy=p.y
 if(btnp(⬅️)) newx-=1
 if(btnp(➡️)) newx+=1
 if(btnp(⬆️)) newy-=1
 if(btnp(⬇️)) newy+=1
 
 if not check_flag(0,newx,newy) then
  
  p.x=newx
  p.y=newy
  -- pour pas que le sprite depasser le cadre
 if (p.x<0) p.x=0
 if (p.y<0) p.y=0
 if (p.x>127) p.x=127
 if (p.y>63) p.y=63
  
  
 end
end

function draw_player()
 spr(p.sprite,p.x*8,p.y*8)
end

__gfx__
00000000ffffbbefffffffffff3333ffffffffffffffffffffffffffffffffffffffffffccccccccfffff33bfffffffffffffffffff34333fffaafffcccccccc
00000000fffffbbbfffffffff333333fffffffffffffffffffffffffffffffffff73ffffccccccccffff33b3fff3f3fff3f3f3f3ffff3434ff9aa9ffcccccccc
00700700fffffbffffffbbcff333333ffffffffffffffffffffffffffffffffff3334fffccccccccfff33b33ff33b33ff43333343334f343444444cccccccccc
00077000ffffbbfffffffbbbff3333fffffffffffffffffffffffffffff5fffff88334f3ccccccccff33b33ff333b3b3f34333434343ff9f44444cc4cccccccc
00077000bfbffbfffbfbfbfffff44fffff333fffffffffffffffffff7f855ffffff3333f44444cc4f33b33fff3b3bb33ff34343f3433f94f4444ccc4cccccccc
00700700fbbbbbffffbbbbfffff44ffff33533ff3333333333fff333f775555ff43f333f44464cc4f3b33fffff3bb33ffff343fff4ff9f4f444ccc44cccccccc
00000000fbbbbbffffbffbfffff44fff3533333f4444644444ccc445f5f55555fffff3ff46444cc6f333fffffff3b3ffffff4ffff999ff4f44ccc444cccccccc
00000000fbfffbfffffffffffff44ffff33353ff4644446454ccc544fff5fff5fffff4ff44464cc43fffffffffffbfffffff4ffff4ffff4f4cc44444cccccccc
33333333ffffffffffffffffffffffffffbabbfffffffffffffffffffffffffcffffffffffffffff4444444a44444444ffffffff444aa444ffffffff44444444
33333333fffffffffff444fffffffffffbbbabbffffffffffffffffffffffcccffffcccfffffffff44444aaaa4444444ffffffff4aaaaaa4ffffffff44444444
33333333fffffffffff444ffffffaffffbbbb31fffffffffffffffccffffcccffffccccfffffffff44449aaaaa944444ffffffff4aaaaa49ffffffff44444444
33333333f66fffffff44444ffffa9afff13b331fffffffffffffccccffffcccffffccccfffffffff444449a999444444ffffffff94aaaa94ffffffff44444444
337733336656fffff4444444ffffafffff1111ffffffffffffccccfffccccffffffccccfffffffff444449a949444444ffffffff449a9944ffffffff44444444
f7f7733355666ffff4444444fafffffffff22fffffffffffffcccffffccccffffcccffffffffffff44494494444a4444ffffffff444944443333333344444444
ff77f733555666ff44444444a9afffffff2442ffffffffffcccccfffcccfffffcccffffffff444a4449444444449944444ffffff444444444446446444444444
ffff77735555656f44444444fafffffff144442fffffffffcccfffffcccfffffcccfffffff4449444444444444444944444fffff444444446444464444444444
444aaa44aaaaaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4aaaaaa4aaaaaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4aaaaaa4aaaaaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9aaaaa99aaaa99aa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
49aaa94499aa99aa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
449a94949a9999a90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4449444499a99a990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000101000000000000000101000001010100010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
151515191a1b1c15140d15150415111500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
15112021212120031511031115030f0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
031f1f201a1b1f150c15150c14150c1800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1f1f0f0f1d1f1d1f1f0d13110d15181300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
050d1809050d050305050c150f17110c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
130b1303130413040b1404031613041300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1515151515151515151515171515151500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050509050505050506050505050e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
